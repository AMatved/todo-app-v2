<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TaskFlow - –£–º–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- –§–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
  <div id="auth-container">
    <div class="auth-wrapper">
      <div class="auth-card">
        <div class="auth-header">
          <div class="logo-icon">‚úì</div>
          <h1>TaskFlow</h1>
          <p class="auth-subtitle subtitle-text">–û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ</p>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <div id="login-form" class="auth-form active">
          <div class="form-group">
            <label for="login-username" class="username-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
            <input type="text" id="login-username" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" autocomplete="username">
          </div>
          <div class="form-group">
            <label for="login-password" class="password-label">–ü–∞—Ä–æ–ª—å</label>
            <input type="password" id="login-password" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="current-password">
          </div>
          <button id="login-btn" class="btn btn-primary">
            <span class="btn-text login-text">–í–æ–π—Ç–∏</span>
            <span class="btn-loader login-loading">–í—Ö–æ–¥...</span>
          </button>
          <p class="auth-switch">
            <span class="no-account-text">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?</span> <a href="#" id="go-to-signup" class="register-link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
          </p>
        </div>

        <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
        <div id="signup-form" class="auth-form">
          <div class="form-group">
            <label for="signup-username" class="username-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
            <input type="text" id="signup-username" class="form-input" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" autocomplete="username">
          </div>
          <div class="form-group">
            <label for="signup-password" class="password-label">–ü–∞—Ä–æ–ª—å</label>
            <input type="password" id="signup-password" class="form-input" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" autocomplete="new-password">
          </div>
          <div class="form-group">
            <label for="signup-confirm" class="confirm-label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
            <input type="password" id="signup-confirm" class="form-input" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="new-password">
          </div>
          <button id="signup-btn" class="btn btn-primary">
            <span class="btn-text signup-text">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</span>
            <span class="btn-loader signup-loading">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...</span>
          </button>
          <p class="auth-switch">
            <span class="has-account-text">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?</span> <a href="#" id="go-to-login" class="login-link">–í–æ–π—Ç–∏</a>
          </p>
        </div>

        <div class="guest-option">
          <p><span class="guest-option-text">–ò–ª–∏</span> <a href="#" id="guest-login" class="guest-link">–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–∞–∫ –≥–æ—Å—Ç—å</a></p>
        </div>
      </div>
    </div>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
  <div id="app-container" style="display: none;">
    <nav class="navbar">
      <div class="nav-content">
        <div class="nav-brand">
          <span class="brand-icon">‚úì</span>
          <span class="brand-name">TaskFlow</span>
        </div>
        <div class="nav-user">
          <button id="trash-btn" class="btn-icon" title="Trash">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
              <line x1="10" y1="11" x2="10" y2="17"></line>
              <line x1="14" y1="11" x2="14" y2="17"></line>
            </svg>
          </button>
          <button id="lang-toggle" class="btn-icon" title="Switch Language">
            <span id="lang-icon">üá∑üá∫</span>
          </button>
          <button id="theme-btn" class="btn-icon" title="Theme">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="13.5" cy="6.5" r=".5"></circle>
              <circle cx="17.5" cy="10.5" r=".5"></circle>
              <circle cx="8.5" cy="7.5" r=".5"></circle>
              <circle cx="6.5" cy="12.5" r=".5"></circle>
              <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"></path>
            </svg>
          </button>
          <span class="user-greeting"><span class="greeting-text">–ü—Ä–∏–≤–µ—Ç,</span> <strong id="current-user">–ì–æ—Å—Ç—å</strong>!</span>
          <button id="logout-btn" class="btn btn-ghost">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
              <polyline points="16 17 21 12 16 7"></polyline>
              <line x1="21" y1="12" x2="9" y2="12"></line>
            </svg>
            <span class="logout-text">–í—ã–π—Ç–∏</span>
          </button>
        </div>
      </div>
    </nav>

    <main class="main-content">
      <div class="content-wrapper">
        <div class="task-header">
          <div>
            <h1 class="page-title">–ú–æ–∏ –∑–∞–¥–∞—á–∏</h1>
            <p class="task-subtitle subtitle-text">–û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ —Å–≤–æ–∏ –¥–µ–ª–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ</p>
          </div>
          <div class="task-stats">
            <div class="stat-item">
              <span class="stat-value" id="completed-counter">0</span>
              <span class="stat-label completed-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
              <span class="stat-value" id="uncompleted-counter">0</span>
              <span class="stat-label uncompleted-label">–û—Å—Ç–∞–ª–æ—Å—å</span>
            </div>
          </div>
        </div>

        <!-- –§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
        <div class="tasks-controls">
          <div class="filter-group">
            <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
            <button class="filter-btn" data-filter="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
            <button class="filter-btn" data-filter="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</button>
          </div>
          <div class="control-buttons">
            <button id="sort-btn" class="sort-btn" title="–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–µ">
              <span class="sort-text">–ü–æ –¥–∞—Ç–µ</span>
              <span id="sort-icon" class="sort-icon">‚Üì</span>
            </button>
            <button id="delete-completed-btn" class="delete-completed-btn" title="–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                <line x1="10" y1="11" x2="10" y2="17"></line>
                <line x1="14" y1="11" x2="14" y2="17"></line>
              </svg>
              <span class="delete-completed-text">–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</span>
            </button>
          </div>
        </div>

        <div class="add-task-section">
          <div class="input-wrapper">
            <input
              type="text"
              id="input-box"
              class="task-input"
              placeholder="–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É..."
              autocomplete="off"
            >
            <div class="category-selector">
              <button id="category-selector-btn" class="category-selector-btn" title="–í—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é">
                <span class="category-selector-icon">üìã</span>
                <span class="category-selector-label category-label-text">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
              </button>
              <div id="category-selector-menu" class="category-selector-menu">
                <div class="category-selector-item" data-category="work">
                  <span class="category-icon">üíº</span>
                  <span class="category-text category-work">–†–∞–±–æ—Ç–∞</span>
                </div>
                <div class="category-selector-item" data-category="study">
                  <span class="category-icon">üìö</span>
                  <span class="category-text category-study">–£—á–µ–±–∞</span>
                </div>
                <div class="category-selector-item" data-category="health">
                  <span class="category-icon">üí™</span>
                  <span class="category-text category-health">–ó–¥–æ—Ä–æ–≤—å–µ</span>
                </div>
                <div class="category-selector-item" data-category="home">
                  <span class="category-icon">üè†</span>
                  <span class="category-text category-home">–î–æ–º</span>
                </div>
                <div class="category-selector-item" data-category="development">
                  <span class="category-icon">üöÄ</span>
                  <span class="category-text category-development">–õ–∏—á–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ</span>
                </div>
                <div class="category-selector-item" data-category="finance">
                  <span class="category-icon">üí∞</span>
                  <span class="category-text category-finance">–§–∏–Ω–∞–Ω—Å—ã</span>
                </div>
              </div>
            </div>
            <button id="input-button" class="btn btn-add">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="10" y1="3" x2="10" y2="17"></line>
                <line x1="3" y1="10" x2="17" y2="10"></line>
              </svg>
              <span class="add-button-text">–î–æ–±–∞–≤–∏—Ç—å</span>
            </button>
          </div>
        </div>

        <div class="tasks-container">
          <!-- Collapse/Expand Toggle (Top Right) -->
          <button id="toggle-tasks-btn" class="toggle-tasks-btn-inline" title="Toggle tasks">
            <svg id="collapse-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
            <svg id="expand-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
              <polyline points="6 9 12 3 18 9"></polyline>
            </svg>
            <span class="toggle-tasks-text">Hide Tasks</span>
          </button>

          <div id="list-container" class="task-list">
            <!-- –ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
          </div>

          <div id="empty-state" class="empty-state">
            <svg width="120" height="120" viewBox="0 0 120 120" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M40 30h40v80H40z"></path>
              <path d="M50 45h20"></path>
              <path d="M50 60h20"></path>
              <path d="M50 75h10"></path>
            </svg>
            <h3 class="empty-title">–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–¥–∞—á</h3>
            <p class="empty-text">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å!</p>
          </div>
        </div>

        <!-- Calendar Block -->
        <div class="calendar-container">
          <div class="calendar-header">
            <button id="calendar-prev" class="calendar-nav-btn" title="Previous month">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="15 18 9 12 15 6"></polyline>
              </svg>
            </button>
            <h3 class="calendar-title">
              <span id="calendar-month-year">January 2026</span>
            </h3>
            <button id="calendar-next" class="calendar-nav-btn" title="Next month">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="5 18 11 12 5 6"></polyline>
              </svg>
            </button>
          </div>
          <div class="calendar-weekdays">
            <div class="calendar-weekday calendar-weekday-mon">Mon</div>
            <div class="calendar-weekday calendar-weekday-tue">Tue</div>
            <div class="calendar-weekday calendar-weekday-wed">Wed</div>
            <div class="calendar-weekday calendar-weekday-thu">Thu</div>
            <div class="calendar-weekday calendar-weekday-fri">Fri</div>
            <div class="calendar-weekday calendar-weekday-sat">Sat</div>
            <div class="calendar-weekday calendar-weekday-sun">Sun</div>
          </div>
          <div id="calendar-days" class="calendar-days">
            <!-- Days will be generated by JavaScript -->
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <div id="edit-modal" class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <h3 class="edit-modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É</h3>
      <input type="text" id="edit-input" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏">
      <div class="modal-actions">
        <button id="edit-cancel" class="btn btn-ghost cancel-text">–û—Ç–º–µ–Ω–∞</button>
        <button id="edit-save" class="btn btn-primary save-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
  <div id="trash-modal" class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-content trash-modal-content">
      <div class="trash-header">
        <h3 class="trash-modal-title">Trash</h3>
        <button id="trash-close" class="btn-close-modal">√ó</button>
      </div>
      <div class="trash-info">
        <span class="trash-info-text">Items are permanently deleted after 15 days</span>
      </div>
      <div id="trash-list" class="trash-list">
        <!-- Deleted tasks will be here -->
      </div>
      <div id="trash-empty" class="trash-empty">
        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" stroke="currentColor" stroke-width="1.5">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
        </svg>
        <p class="trash-empty-text">Trash is empty</p>
      </div>
      <div class="trash-footer">
        <button id="empty-trash-btn" class="btn btn-danger">
          <svg width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          </svg>
          <span class="empty-trash-text">Empty Trash</span>
        </button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã -->
  <div id="theme-modal" class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-content theme-modal-content">
      <div class="theme-header">
        <h3 class="theme-modal-title">Choose Theme</h3>
        <button id="theme-close" class="btn-close-modal">√ó</button>
      </div>
      <div class="themes-grid">
        <div class="theme-card" data-theme="spring">
          <div class="theme-preview spring-preview">
            <div class="theme-color-dot spring-color-1"></div>
            <div class="theme-color-dot spring-color-2"></div>
            <div class="theme-color-dot spring-color-3"></div>
          </div>
          <span class="theme-name theme-name-spring">Spring</span>
        </div>
        <div class="theme-card" data-theme="summer">
          <div class="theme-preview summer-preview">
            <div class="theme-color-dot summer-color-1"></div>
            <div class="theme-color-dot summer-color-2"></div>
            <div class="theme-color-dot summer-color-3"></div>
          </div>
          <span class="theme-name theme-name-summer">Summer</span>
        </div>
        <div class="theme-card" data-theme="autumn">
          <div class="theme-preview autumn-preview">
            <div class="theme-color-dot autumn-color-1"></div>
            <div class="theme-color-dot autumn-color-2"></div>
            <div class="theme-color-dot autumn-color-3"></div>
          </div>
          <span class="theme-name theme-name-autumn">Autumn</span>
        </div>
        <div class="theme-card" data-theme="winter">
          <div class="theme-preview winter-preview">
            <div class="theme-color-dot winter-color-1"></div>
            <div class="theme-color-dot winter-color-2"></div>
            <div class="theme-color-dot winter-color-3"></div>
          </div>
          <span class="theme-name theme-name-winter">Winter</span>
        </div>
        <div class="theme-card" data-theme="sakura">
          <div class="theme-preview sakura-preview">
            <div class="theme-color-dot sakura-color-1"></div>
            <div class="theme-color-dot sakura-color-2"></div>
            <div class="theme-color-dot sakura-color-3"></div>
          </div>
          <span class="theme-name theme-name-sakura">Sakura</span>
        </div>
      </div>
    </div>
  </div>

  <script src="client.js"></script>
</body>
</html>
